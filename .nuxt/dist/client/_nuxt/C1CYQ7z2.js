import{J as M,K as x,_ as d,r as v,i as g,t as o,v as m,x as s,L as A,M as h,N as _,O as k,P as b,B as f,y as r,Q as D,R as L,o as q,z as C}from"./CD3E5I7H.js";const R=M("commentStore",{state:()=>({comments:[]}),actions:{async fetchComments(){try{const n=await fetch("/api/comments");this.comments=await n.json()}catch(n){console.error("Error fetching comments:",n)}},addComment(n){this.comments.push(n)}}}),N=x("/anime-girl.png"),T=x("/submit-icon.svg"),Q={class:"comment-box-container"},V={class:"underline-container"},E={class:"action-buttons"},F={class:"quick-reply-group"},U=["onClick"],z={class:"quick-reply-group"},O=["onClick"],j={__name:"CommentBox",setup(n){const c=v(""),i=v(!1),a=v(!1),u={感谢:"(´• ω •`)ﾉ",支持:"٩(◕‿◕｡)۶",疑问:"(•ิ_•ิ)?",卖萌:"(≧◡≦) ♡",关心:"(っ´ω`)ﾉ(╥ω╥)"},$=["Quick Reply","感谢","支持","疑问","卖萌","关心"],S=g(()=>$.slice(0,3)),w=g(()=>$.slice(3)),y=l=>{if(l==="Quick Reply")return;const t=u[l];t&&(c.value+=t+" ")},B=()=>{a.value=!0,setTimeout(()=>a.value=!1,600)};return(l,t)=>(o(),m("div",Q,[s("div",{class:_(["input-wrapper",{"active-container":i.value}]),onClick:t[3]||(t[3]=(...e)=>l.focusInput&&l.focusInput(...e))},[A(s("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e),class:"comment-box",placeholder:"Add a comment...",rows:"3",onFocus:t[1]||(t[1]=e=>i.value=!0),onBlur:t[2]||(t[2]=e=>i.value=!1)},null,544),[[h,c.value]]),t[6]||(t[6]=s("img",{src:N,class:"anime-girl"},null,-1)),s("div",V,[s("div",{class:_(["underline",{"active-underline":i.value}])},null,2)])],2),s("div",E,[s("div",F,[(o(!0),m(k,null,b(S.value,(e,p)=>(o(),m("button",{key:p,class:"quick-action-btn",onClick:I=>y(e)},[f(r(e)+" ",1),t[7]||(t[7]=s("div",{class:"mask-effect"},null,-1))],8,U))),128))]),s("div",z,[(o(!0),m(k,null,b(w.value,(e,p)=>(o(),m("button",{key:p,class:"quick-action-btn",onClick:I=>y(e)},[f(r(e)+" ",1),t[8]||(t[8]=s("div",{class:"mask-effect"},null,-1))],8,O))),128))]),s("button",{class:"submit-btn",onClick:t[4]||(t[4]=(...e)=>l.submitComment&&l.submitComment(...e)),onMousedown:B,onMouseup:t[5]||(t[5]=(...e)=>l.endRipple&&l.endRipple(...e))},[t[9]||(t[9]=s("img",{src:T,class:"submit-icon"},null,-1)),t[10]||(t[10]=f(" SUBMIT ")),s("div",{class:_(["ripple-effect",{active:a.value}])},null,2),t[11]||(t[11]=s("div",{class:"mask-effect"},null,-1))],32)])]))}},J=d(j,[["__scopeId","data-v-1ee4c0ea"]]),K={class:"comment-item"},P={class:"comment-header"},G=["src"],H={class:"comment-info"},W={class:"username"},X={class:"timestamp"},Y={class:"comment-text"},Z={__name:"CommentItem",props:["comment"],setup(n){const c=i=>new Date(i).toLocaleString();return(i,a)=>(o(),m("div",K,[s("div",P,[s("img",{src:n.comment.avatar,class:"avatar"},null,8,G),s("div",H,[s("span",W,r(n.comment.username),1),s("span",X,r(c(n.comment.date)),1)])]),s("p",Y,r(n.comment.text),1),a[0]||(a[0]=s("div",{class:"comment-actions"},[s("button",{class:"action-btn"},"👍 0"),s("button",{class:"action-btn"},"👎 0"),s("button",{class:"reply-btn"},"ADD COMMENT")],-1))]))}},tt=d(Z,[["__scopeId","data-v-f3086bb6"]]),st={class:"comment-list"},et={__name:"CommentList",setup(n){const c=R();return(i,a)=>(o(),m("div",st,[(o(!0),m(k,null,b(D(c).comments,u=>(o(),L(tt,{key:u.id,comment:u},null,8,["comment"]))),128))]))}},nt=d(et,[["__scopeId","data-v-20a02c70"]]),ot={class:"comment-system"},ct={__name:"CommentSystem",setup(n){const c=R();return q(()=>{c.fetchComments()}),(i,a)=>(o(),m("div",ot,[a[0]||(a[0]=s("h2",null,"💬 评论区",-1)),C(J),C(nt)]))}},it=d(ct,[["__scopeId","data-v-956bda5b"]]),mt={__name:"index",setup(n){return(c,i)=>(o(),m("div",null,[C(it)]))}};export{mt as default};
